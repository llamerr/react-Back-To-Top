{"version":3,"sources":["../lib/BackToTop.jsx"],"names":["BackToTop","props","state","percent","current","animate","mainStyle","percentStyle","offsetTop","step","visiblePercent","isPercent","undefined","window","onscroll","setState","visible","animateHide","animateShow","scrollToTop","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;;;;;;;IAEMA,S;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA,sHACXA,KADW;;AAEjB,UAAKC,KAAL,GAAW;AACTC,eAAQ,CADC;AAETC,eAAQ;AAFC,KAAX;AAIA,UAAKC,OAAL,GAAe,MAAKJ,KAAL,CAAWI,OAAX,IAAoB,MAAnC,CANiB,CAM0B;AAC3C,UAAKC,SAAL,GAAiB,MAAKL,KAAL,CAAWK,SAAX,IAAwB,EAAzC;AAGA,UAAKC,YAAL,GAAoB,MAAKN,KAAL,CAAWM,YAAX,IAAyB,EAA7C;AACA,UAAKC,SAAL,GAAiB,MAAKP,KAAL,CAAWO,SAAX,IAAsB,CAAvC;AACA,UAAKC,IAAL,GAAY,MAAKR,KAAL,CAAWQ,IAAX,IAAiB,EAA7B;AACA,UAAKC,cAAL,GAAsB,MAAKT,KAAL,CAAWS,cAAX,GAA4B,CAA5B,GAAgC,MAAKT,KAAL,CAAWS,cAA3C,GAA0D,CAAhF;AACA,UAAKC,SAAL,GAAiB,MAAKV,KAAL,CAAWU,SAAX,KAAyBC,SAAzB,GAAqC,IAArC,GAA4C,MAAKX,KAAL,CAAWU,SAAxE;AACAE,WAAOC,QAAP,GAAkB,YAAI;AACpB,YAAKC,QAAL,CAAc,EAAEZ,SAAS,6BAAiB,MAAKF,KAAL,CAAWO,SAA5B,CAAX,EAAd;AACA,YAAKO,QAAL,CAAc,EAACX,SAAQ,0BAAT,EAAd;AACD,KAHD;;AAfiB;AAoBlB;;;;kCACY;AACX,kCAAgB,KAAKH,KAAL,CAAWO,SAA3B,EAAsC,KAAKP,KAAL,CAAWQ,IAAjD,EAAuD,KAAKP,KAAL,CAAWE,OAAlE;AACD;;;wCACmB,CAAG;;;6BACd;AAAA;;AAAA,UACDC,OADC,GACU,KAAKJ,KADf,CACDI,OADC;;AAEP,UAAIW,UAAU,KAAKd,KAAL,CAAWC,OAAX,IAAsB,KAAKO,cAAzC;AACA,UAAIO,cAAc,gBAAlB;AACA,UAAIC,cAAc,gBAAlB;AACA,UAAIb,YAAU,MAAV,IAAkBA,YAAU,QAAhC,EAA0C;AACxC,YAAIA,YAAU,MAAd,EAAsB;AACpBY,wBAAc,WAAd;AACAC,wBAAc,WAAd;AACD;AACF,OALD,MAKK;AACHD,sBAAcZ,UAAU,OAAxB;AACAa,sBAAcb,UAAU,OAAxB;AACD;AACD,aAAO;AAAA;AAAA,UAAK,SAAS;AAAA,mBAAM,OAAKc,WAAL,EAAN;AAAA,WAAd,EAAwC,WAAW,sBAAsBH,UAAUE,WAAV,GAAwBD,WAA9C,CAAnD;AAEH,+CAAK,WAAU,oBAAf,EAAoC,OAAO,KAAKX,SAAhD,GAFG;AAGL;AAAA;AAAA,YAAK,WAAW,mBAAmB,KAAKK,SAAL,GAAiB,EAAjB,GAAqB,eAAxC,CAAhB,EAA4E,OAAQ,KAAKJ,YAAzF;AACK,eAAKL,KAAL,CAAWC,OAAX,GAAqB;AAD1B;AAHK,OAAP;AAOD;;;;EA/CqBiB,gB;;kBAiDTpB,S","file":"BackToTop.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { getScrollPercent, getScrollTop, ScrollToAnimate } from './utils';\r\nimport './BackToTop.css';\r\n\r\nclass BackToTop extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      percent:0,\r\n      current:0,\r\n    };\r\n    this.animate = this.props.animate||'fade'; /**1、fade(default) 2、rotate 3、none */\r\n    this.mainStyle = this.props.mainStyle || {\r\n      \r\n    };\r\n    this.percentStyle = this.props.percentStyle||{};\r\n    this.offsetTop = this.props.offsetTop||0;\r\n    this.step = this.props.step||50;\r\n    this.visiblePercent = this.props.visiblePercent > 0 ? this.props.visiblePercent:1;\r\n    this.isPercent = this.props.isPercent === undefined ? true : this.props.isPercent;\r\n    window.onscroll = ()=>{\r\n      this.setState({ percent: getScrollPercent(this.props.offsetTop) });\r\n      this.setState({current:getScrollTop()});\r\n    };\r\n   \r\n  }\r\n  scrollToTop(){\r\n    ScrollToAnimate(this.props.offsetTop, this.props.step, this.state.current);\r\n  };\r\n  componentDidMount() { }\r\n  render() {\r\n    const{animate} = this.props;\r\n    let visible = this.state.percent >= this.visiblePercent;\r\n    let animateHide = \"c-animate-hide\";\r\n    let animateShow = \"c-animate-show\";\r\n    if (animate!==\"fade\"&&animate!==\"rotate\") {\r\n      if (animate!=='none') {\r\n        animateHide = \"fade-hide\";\r\n        animateShow = \"fade-show\";\r\n      }\r\n    }else{\r\n      animateHide = animate + \"-hide\";\r\n      animateShow = animate + \"-show\";\r\n    }\r\n    return <div onClick={() => this.scrollToTop()} className={\"base-back-to-up \" + (visible ? animateShow : animateHide)}>\r\n        {/* <Icon type=\"up-square\" className=\"to-top-icon\" /> */}\r\n        <div className='back-to-up-default' style={this.mainStyle} />\r\n      <div className={\"to-up-percent\" + (this.isPercent ? \"\" :\" percent-hide\")}   style={ this.percentStyle }>\r\n          {this.state.percent + \"%\"}\r\n        </div>\r\n      </div>;\r\n  }\r\n}\r\nexport default BackToTop;\r\n"]}